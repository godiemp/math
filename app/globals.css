@tailwind base;
@tailwind components;
@tailwind utilities;

/* AppleLiquidGlass Design System */
:root {
  /* Color Roles - Light Mode */
  --color-tint: #0A84FF;
  --color-tint-alt: #5E5CE6;
  --color-bg: #F7F7F7;
  --color-surface: #FFFFFF;
  --color-elevated-surface: #FFFFFF;
  --color-label-primary: #000000;
  --color-label-secondary: rgba(0, 0, 0, 0.6);
  --color-separator: rgba(0, 0, 0, 0.12);
  --color-separator-strong: rgba(0, 0, 0, 0.24);
  --color-fill: rgba(0, 0, 0, 0.04);
  --color-success: #34C759;
  --color-warning: #FF9F0A;
  --color-danger: #FF453A;
  --color-info: #64D2FF;
  --color-link: #0A84FF;

  /* Spacing */
  --spacing-0: 0;
  --spacing-1: 0.125rem; /* 2px */
  --spacing-2: 0.25rem;  /* 4px */
  --spacing-3: 0.375rem; /* 6px */
  --spacing-4: 0.5rem;   /* 8px */
  --spacing-5: 0.625rem; /* 10px */
  --spacing-6: 0.75rem;  /* 12px */
  --spacing-7: 0.875rem; /* 14px */
  --spacing-8: 1rem;     /* 16px */
  --spacing-10: 1.25rem; /* 20px */
  --spacing-12: 1.5rem;  /* 24px */
  --spacing-14: 1.75rem; /* 28px */
  --spacing-16: 2rem;    /* 32px */
  --spacing-20: 2.5rem;  /* 40px */
  --spacing-24: 3rem;    /* 48px */
  --spacing-28: 3.5rem;  /* 56px */
  --spacing-32: 4rem;    /* 64px */

  /* Radii */
  --radius-none: 0;
  --radius-xs: 0.5rem;   /* 8px */
  --radius-sm: 0.75rem;  /* 12px */
  --radius-md: 1rem;     /* 16px */
  --radius-lg: 1.25rem;  /* 20px */
  --radius-xl: 1.5rem;   /* 24px */
  --radius-2xl: 1.75rem; /* 28px */
  --radius-full: 999px;

  /* Typography */
  --font-heading: -apple-system, BlinkMacSystemFont, "SF Pro Display", system-ui, sans-serif;
  --font-body: -apple-system, BlinkMacSystemFont, "SF Pro Text", system-ui, sans-serif;
  --font-mono: ui-monospace, "SF Mono", Menlo, Monaco, monospace;

  /* Shadows */
  --shadow-ambient: 0 8px 24px rgba(0, 0, 0, 0.18);
  --shadow-raised: 0 14px 36px -4px rgba(0, 0, 0, 0.22);
  --shadow-popover: 0 20px 48px -6px rgba(0, 0, 0, 0.26);

  /* Motion */
  --motion-standard: cubic-bezier(0.2, 0.8, 0.2, 1);
  --motion-emphasized: cubic-bezier(0.2, 0.8, 0, 1);
  --motion-decelerate: cubic-bezier(0, 0, 0.2, 1);
  --motion-accelerate: cubic-bezier(0.4, 0, 1, 1);
  --duration-micro: 120ms;
  --duration-short: 180ms;
  --duration-standard: 240ms;
  --duration-long: 300ms;

  /* Materials */
  --material-blur: 20px;
  --material-saturation: 1.2;
  --material-tint-opacity: 0.08;
}

@media (prefers-color-scheme: dark) {
  :root {
    /* Color Roles - Dark Mode */
    --color-tint: #0A84FF;
    --color-tint-alt: #9A99FF;
    --color-bg: #000000;
    --color-surface: #121212;
    --color-elevated-surface: #1C1C1C;
    --color-label-primary: #FFFFFF;
    --color-label-secondary: rgba(255, 255, 255, 0.7);
    --color-separator: rgba(255, 255, 255, 0.16);
    --color-separator-strong: rgba(255, 255, 255, 0.28);
    --color-fill: rgba(255, 255, 255, 0.06);
    --color-success: #30D158;
    --color-warning: #FF9F0A;
    --color-danger: #FF453A;
    --color-info: #64D2FF;
    --color-link: #0A84FF;

    --material-tint-opacity: 0.16;
  }
}

body {
  color: var(--color-label-primary);
  background: var(--color-bg);
  font-family: var(--font-body);
  font-size: 17px;
  line-height: 1.4;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }

  /* Liquid Glass Material */
  .liquid-glass {
    background: rgba(255, 255, 255, 0.08);
    backdrop-filter: blur(var(--material-blur)) saturate(var(--material-saturation));
    -webkit-backdrop-filter: blur(var(--material-blur)) saturate(var(--material-saturation));
    border: 0.5px solid var(--color-separator);
  }

  @media (prefers-color-scheme: dark) {
    .liquid-glass {
      background: rgba(255, 255, 255, 0.06);
    }
  }

  /* Translucent Material */
  .translucent {
    background: rgba(255, 255, 255, 0.9);
    backdrop-filter: blur(12px) saturate(1.0);
    -webkit-backdrop-filter: blur(12px) saturate(1.0);
    border: 0.5px solid var(--color-separator);
  }

  @media (prefers-color-scheme: dark) {
    .translucent {
      background: rgba(18, 18, 18, 0.85);
    }
  }

  /* Spring Motion */
  .spring-motion {
    transition: all var(--duration-standard) var(--motion-standard);
  }

  .spring-emphasized {
    transition: all var(--duration-standard) var(--motion-emphasized);
  }
}

/* KaTeX math rendering styles */
.math-display .katex-display {
  text-align: left !important;
  margin: 0 !important;
}

.math-display .katex {
  text-align: left;
  white-space: normal !important;
  overflow-wrap: break-word;
  word-break: normal;
  display: inline !important;
}

.math-display .katex-html {
  white-space: normal !important;
  overflow-wrap: break-word;
  word-break: normal;
  max-width: 100%;
  display: inline !important;
}

.math-display .base {
  white-space: normal !important;
  display: inline !important;
}

.math-display .mord,
.math-display .mbin,
.math-display .mrel,
.math-display .mop,
.math-display .mopen,
.math-display .mclose,
.math-display .mpunct,
.math-display .minner {
  white-space: normal !important;
}
